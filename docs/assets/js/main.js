"use strict";const inputSearch=document.querySelector(".js_inputSearch"),btnSearch=document.querySelector(".js_btnSearch"),btnReset=document.querySelector(".js_btnReset"),resultSearchSeries=document.querySelector(".js_resultSearchSeries"),resultSeriesFav=document.querySelector(".js_resultSeriesFav");let data=[],dataFav=[];function handleButtonSearch(){const e=inputSearch.value;fetch(`https://api.jikan.moe/v3/search/anime?q=${e}&limit=3`).then(e=>e.json()).then(e=>{data=e.results,renderSerie()})}function renderSerie(){resultSearchSeries.innerHTML="";for(const e of data){let t=e.image_url;null===t&&(t="https://via.placeholder.com/210x295/ffffff/666666/?text=TV"),resultSearchSeries.innerHTML+=`<img class="js_imgResult" data-id=${e.mal_id} src=${t} alt=${e.title}/>`,resultSearchSeries.innerHTML+=`<h2/>${e.title}</h2>`}const e=document.querySelectorAll(".js_imgResult");for(const t of e)t.addEventListener("click",handleSerieFav)}function handleSerieFav(e){const t=parseInt(e.currentTarget.dataset.id),a=dataFav.findIndex(e=>e.mal_id===t);-1===a?addSerieFav(t):dataFav.splice(a,1),renderFav()}function addSerieFav(e){const t=data.find(t=>t.mal_id===e);dataFav.push(t),console.log(dataFav),renderFav()}function handleRemoveSerie(){const e=parseInt(ev.currentTarget.dataset.id);dataFav.findIndex(t=>t.mal_id===e)}function renderFav(){resultSeriesFav.innerHTML="";for(const e of dataFav){resultSeriesFav.innerHTML+=`<i class="far fa-times-circle js_iconX" data-id=${e.mal_id}></i>`;let t=e.image_url;null===t&&(t="https://via.placeholder.com/210x295/ffffff/666666/?text=TV"),resultSeriesFav.innerHTML+=`<img class="js_imgResult" data-id=${e.mal_id} src=${e.image_url} alt=${e.title}/>`,resultSeriesFav.innerHTML+=`<h2/>${e.title}</h2>`}const e=document.querySelectorAll(".js_iconX");for(const t of e)t.addEventListener("click",handleRemoveSerie)}btnSearch.addEventListener("click",handleButtonSearch);